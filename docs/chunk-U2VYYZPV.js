import{S as c,xa as r}from"./chunk-3FOZQQLO.js";function l(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function d(i){i.forEach(o=>{localStorage.getItem(o)||localStorage.setItem(o,"")})}function n(i,o){return i.findIndex(a=>a.id===o.id)}var p=(()=>{let o=class o{constructor(){this.toDos=this.getTodosFromLocalStorage(),this.selectedToDo=r(""),this.events=this.getEventsFromlocalStorage(),this.selectedEvent=r(""),this.groceries=this.getGroceriessFromLocalStorage(),this.selectedGrocery=r("")}getTodosFromLocalStorage(){let e=localStorage.getItem("toDos");return e.length<=0?r(""):r(JSON.parse(e))}getTodoIndex(e,t){return e.findIndex(s=>s.id===t.id)}updateSelectedTodo(e){this.toDos.update(t=>t.map(s=>s.id===e.id?e:s)),localStorage.setItem("toDos",JSON.stringify(this.toDos()))}addToDo(e){this.toDos.update(t=>[...t,e]),localStorage.setItem("toDos",JSON.stringify(this.toDos()))}completeToDo(e){this.selectedToDo.set(e),this.selectedToDo().status="done",this.updateSelectedTodo(this.selectedToDo())}removeToDo(e){this.selectedToDo.set(e);let t=n(this.toDos(),e);this.toDos().splice(t,1),this.updateSelectedTodo(this.toDos())}getEventsFromlocalStorage(){let e=localStorage.getItem("events");return e.length<=0?r(""):r(JSON.parse(e))}updateSelectedEvent(e){this.events.update(t=>t.map(s=>s.id===e.id?e:s)),localStorage.setItem("events",JSON.stringify(this.events()))}addEvent(e){this.events.update(t=>[...t,e]),localStorage.setItem("events",JSON.stringify(this.events()))}removeEvent(e){this.selectedEvent.set(e);let t=n(this.events(),e);this.events().splice(t,1),this.updateSelectedEvent(this.events())}getGroceriessFromLocalStorage(){let e=localStorage.getItem("groceries");return e.length<=0?r(""):r(JSON.parse(e))}updateSelectedGrocery(e){this.groceries.update(t=>t.map(s=>s.id===e.id?e:s)),localStorage.setItem("groceries",JSON.stringify(this.groceries()))}addGrocery(e){this.groceries.update(t=>[...t,e]),localStorage.setItem("groceries",JSON.stringify(this.groceries()))}completeGroceries(e){this.selectedGrocery.set(e),this.selectedGrocery().status="done",this.updateSelectedGrocery(this.selectedGrocery())}};o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();export{l as a,d as b,n as c,p as d};
